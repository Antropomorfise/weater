(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{54:function(e,t,a){e.exports=a(91)},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),i=a(35),s=a(23),l=a.n(s),u=a(36),h=a(37),m=a(20),d=a(47),p=a(38),g=a(48),v=a(39),y=a.n(v),b=a(111),f=a(109),k=a(112),S=a(110),w=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).getWeather=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,r,o,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.hours,r="https://api.weatherbit.io/v2.0/current?city=".concat(a.state.data.city,"&key=1f17cabc0951462bae7a851e31772cd4"),e.next=5,fetch(r);case 5:return o=e.sent,e.next=8,o.json();case 8:if(c=e.sent,"1"!==a.state.id){e.next=13;break}a.setState({city:c.data[0].city_name,temp_c:c.data[0].app_temp,hours:n}),e.next=21;break;case 13:return r="https://api.apixu.com/v1/current.json?key=e9b0b0d0b5074b3388f195304190606&q=".concat(a.state.data.city),e.next=16,fetch(r);case 16:return o=e.sent,e.next=19,o.json();case 19:c=e.sent,a.setState({city:c.location.name,temp_c:c.current.temp_c,hours:n});case 21:a.setItemsToLocalStorage();case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onChangeRadio=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.state={id:"1",hours:(new Date).getHours(),data:{city:void 0,temp_c:null}},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("city"),t=localStorage.getItem("temp_c");void 0===e?this.setState({city:e,temp_c:t}):(this.getCity(),this.setState({city:e,temp_c:t})),this.checkTimeFromStorage()}},{key:"getCity",value:function(){var e=this;y.a.get("https://ipinfo.io").then(function(t){e.setState({data:t.data})})}},{key:"setItemsToLocalStorage",value:function(){var e=this.state,t=e.hours,a=e.city,n=e.temp_c;localStorage.setItem("city",a),localStorage.setItem("temp_c",n),localStorage.setItem("hours",t)}},{key:"checkTimeFromStorage",value:function(){var e=this.state.hours;if(this.state.hours>e+2){var t=localStorage.removeItem("city"),a=localStorage.removeItem("temp_c"),n=localStorage.removeItem("hours");this.setState({city:t,hours:n,temp_c:a})}}},{key:"renderTemp",value:function(){return null!==this.state.temp_c?r.a.createElement("p",null,"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",this.state.temp_c):void 0}},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("h1",null,"\u0413\u043e\u0440\u043e\u0434:",this.state.data.city),r.a.createElement(x,{onClick:this.getWeather},"\u0423\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443 \u043e\u0442:"),r.a.createElement("br",null),r.a.createElement(k.a,{name:"id",value:"1",checked:"1"===this.state.id,onChange:this.onChangeRadio})," Weatherbit ",r.a.createElement("br",null),r.a.createElement(k.a,{name:"id",value:"2",checked:"2"===this.state.id,onChange:this.onChangeRadio})," Apixy ",r.a.createElement("br",null),this.renderTemp())}}]),t}(n.Component),x=Object(S.a)(b.a)({background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:19,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[54,1,2]]]);
//# sourceMappingURL=main.6aace442.chunk.js.map